<h1>Utenti Redazionali</h1>
<div class="pull-right">
  <button type="button" class="btn btn-primary" ng-click="utenti.createEditor()">
    <i class="fa fa-plus text-success"></i> Crea utente redazionale
  </button>
</div>
<div class="row">
  <div class="col-lg-12">
    <search-bar model="utenti.searchText"></search-bar>
    <admin-users users="utenti.filteredUsers"
                 role="'editor'"
                 custom-filter="true"
                 on-delete-user="utenti.deleteUser(user)"
                 on-ban-user="utenti.banUser(user)">
    </admin-users>
  </div>
</div>

<script type="text/ng-template" id="createEditor.html">
  <h1 class="modal-title text-center">Registra Utente Redazionale</h1>
  <div class="row">
    <div class="modal-body col-md-8 col-md-offset-2">
      <form class="form" name="form" ng-submit="create(form)" novalidate>
        <div class="form-group">
          <label>Nome</label>
          <input type="text" name="firstname" class="form-control" ng-model="user.firstname"
                 required autofocus bs-has-error>
        </div>
        <div class="form-group">
          <label>Cognome</label>
          <input type="text" name="lastname" class="form-control" ng-model="user.lastname"
                 required bs-has-error>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" name="email" class="form-control" ng-model="user.email"
                 pattern="[a-z0-9._%+-]+@(?!mailinator)[a-z0-9.-]+\.[a-z]{2,4}$"
                 required bs-has-error>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" name="password" class="form-control" ng-model="user.password"
                 required bs-has-error>
        </div>
    
        <div>
          * Tutti i campi sono obbligatori
        </div>
        <div class="form-group has-error">
          <p class="help-block small">{{ errors.other }}</p>
        </div>
    
        <div class="text-center">
          <button class="btn btn-lg btn-primary" ng-disabled="form.$invalid" type="submit">
            Crea utente
          </button>
        </div>
      </form>
    </div>
  </div>
</script>
